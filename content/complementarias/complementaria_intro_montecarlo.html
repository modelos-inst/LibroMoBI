

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Complementaria Semana 2: Introducción a la simulación de Montecarlo &#8212; Libro Modelado de Sistemas Bajo Incertidumbre - IIND 2504</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/mathjax/tex-mml-chtml.js"></script>
    <script src="../../_static/mathjax/tex-svg.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\\\(", "\\\\)"]], "displayMath": [["$$", "$$"], ["\\\\[", "\\\\]"]], "processEscapes": true, "processEnvironments": true}, "options": {"ignoreHtmlClass": "ignore-this-class-that-does-not-exist", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area|tex2jax_ignore|mathjax_ignore", "enableMenu": false}}</script>
    <script defer="defer" src="../../_static/mathjax/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/complementarias/complementaria_intro_montecarlo';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Complementaria 3: Teorema del Límite Central y validación empírica" href="complementaria_tlc.html" />
    <link rel="prev" title="Complementaria 1: Introducción a Python" href="complementaria_intro_python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/uniandes.png" class="logo__image only-light" alt="Libro Modelado de Sistemas Bajo Incertidumbre - IIND 2504 - Home"/>
    <script>document.write(`<img src="../../_static/uniandes.png" class="logo__image only-dark" alt="Libro Modelado de Sistemas Bajo Incertidumbre - IIND 2504 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Bienvenidos al libro del curso Modelado de Sistemas Bajo Incertidumbre
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introducción</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial: Instalación Python y Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="ambientes_virtuales.html">Ambientes virtuales en Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Complementarias</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="complementaria_intro_python.html">Complementaria 1: Introducción a Python</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Complementaria Semana 2: Introducción a la simulación de Montecarlo</a></li>
<li class="toctree-l1"><a class="reference internal" href="complementaria_tlc.html">Complementaria 3: Teorema del Límite Central y validación empírica</a></li>
<li class="toctree-l1"><a class="reference internal" href="complementaria_intro_simpy.html">Complementaria Semana 5: Introducción a la Simulación con SimPy con Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="complementaria_simu_cola_simpy.html">Complementaria Semana 6: Simulación de una cola M/M/1 con SimPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="complementaria_transf_inversa_gba.html">Complementaria Semana 7: Transformada Inversa para Generación de Variables Aleatorias (GVA)</a></li>



<li class="toctree-l1"><a class="reference internal" href="complementaria_simu_proceso_poisson.html">Complementaria Semana 8: Simulación de un Proceso de Poisson</a></li>






</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/complementarias/complementaria_intro_montecarlo.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Complementaria Semana 2: Introducción a la simulación de Montecarlo</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-guiado-maximo-de-dos-dados-y-simulacion-monte-carlo">Ejercicio guiado: Máximo de dos dados y simulación Monte Carlo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contexto">Contexto</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivos">Objetivos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parte-a-deriva-la-pmf-teoricamente">Parte A — Deriva la pmf teóricamente</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parte-b-validacion-por-simulacion-monte-carlo">Parte B — Validación por simulación Monte Carlo</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#profundizacion-resuelva-estas-preguntas-como-cambia-el-codigo">Profundización: resuelva estas preguntas ¿cómo cambia el código?</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parte-c-media-y-varianza">Parte C — Media y varianza</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#profundizacion-pregunta-corta">Profundización: pregunta corta</a></li>
</ul>
</li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="complementaria-semana-2-introduccion-a-la-simulacion-de-montecarlo">
<h1>Complementaria Semana 2: Introducción a la simulación de Montecarlo<a class="headerlink" href="#complementaria-semana-2-introduccion-a-la-simulacion-de-montecarlo" title="Permalink to this heading">#</a></h1>
<p>El modelado estocástico permite representar sistemas donde intervienen fenómenos aleatorios y la información disponible no es completamente determinista. En ingeniería y ciencias aplicadas esto incluye desde la variabilidad en mediciones y tiempos hasta la ocurrencia de eventos como fallas, demandas o llegadas. Para describir esa incertidumbre se utilizan distribuciones de probabilidad que asignan pesos a los posibles valores de una variable aleatoria. En contextos discretos, como el resultado de dados o el conteo de eventos, utilizamos funciones de probabilidad; mientras que en situaciones continuas, como tiempos de procesamiento, tiempos de espera en sistemas de servicio, consumo de recursos o demanda continua de productos, recurrimos a funciones de densidad. Entre las distribuciones más utilizadas se encuentran la Poisson para conteos, la Exponencial para tiempos entre eventos y la Normal, la cual tomará mayor relevancia con el Teorema Central del Límite.</p>
<p>Cuando el análisis es complejo, la simulación de Monte Carlo se convierte en una herramienta fundamental. El procedimiento consiste en generar datos de acuerdo con las distribuciones asumidas, computar indicadores de interés como medias, probabilidades o percentiles, y aproximar sus valores mediante repetición. La precisión mejora conforme aumenta el número de simulaciones, y el Teorema del Límite Central justifica que los promedios obtenidos mediante simulación se comporten aproximadamente como una variable normal, aun si la distribución original no lo es. Esto permite cuantificar la incertidumbre de las estimaciones mediante errores estándar e intervalos de confianza, fortaleciendo la capacidad de tomar decisiones informadas en presencia de aleatoriedad.</p>
<p>En esta complementaria nos enfocamos en modelar incertidumbre puramente aleatoria, asociada al azar inherente del fenómeno (lanzamiento de dados). Más adelante en el curso aparecerán otros tipos de incertidumbre, como la asociada a información incompleta o a decisiones humanas, que requerirán herramientas adicionales.</p>
<section id="ejercicio-guiado-maximo-de-dos-dados-y-simulacion-monte-carlo">
<h2>Ejercicio guiado: Máximo de dos dados y simulación Monte Carlo<a class="headerlink" href="#ejercicio-guiado-maximo-de-dos-dados-y-simulacion-monte-carlo" title="Permalink to this heading">#</a></h2>
<p>Analizaremos el comportamiento de una variable aleatoria definida a partir del lanzamiento de dos dados justos, y luego validaremos nuestros resultados teóricos mediante simulación. Para cerrar, utilizaremos el Teorema Central de Límite para observar cómo los promedios de variables aleatorias se aproximan a una distribución Normal.</p>
<section id="contexto">
<h3>Contexto<a class="headerlink" href="#contexto" title="Permalink to this heading">#</a></h3>
<p>Suponga que lanzamos dos dados justos e independientes. Cada dado puede tomar valores del 1 al 6 con igual probabilidad. Definimos la variable aleatoria:</p>
<div class="math notranslate nohighlight">
\[
M = \max(D_1, D_2)
\]</div>
<p>donde <span class="math notranslate nohighlight">\(D_1\)</span> y <span class="math notranslate nohighlight">\(D_2\)</span> son los resultados de cada dado. Nos interesa estudiar la distribución de <span class="math notranslate nohighlight">\(M\)</span>, calcular sus estadísticas y validar los resultados usando simulación Monte Carlo.</p>
</section>
<section id="objetivos">
<h3>Objetivos<a class="headerlink" href="#objetivos" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Derivar la función de probabilidad (pmf) de <span class="math notranslate nohighlight">\(M\)</span> de forma teórica</p></li>
<li><p>Simular y comparar teoría vs resultados Monte Carlo</p></li>
<li><p>Calcular media y varianza teóricas y empíricas</p></li>
<li><p>Observar el Teorema del Límite Central aplicándolo a promedios de <span class="math notranslate nohighlight">\(M\)</span></p></li>
</ul>
</section>
<section id="parte-a-deriva-la-pmf-teoricamente">
<h3>Parte A — Deriva la pmf teóricamente<a class="headerlink" href="#parte-a-deriva-la-pmf-teoricamente" title="Permalink to this heading">#</a></h3>
<p>Existen 36 posibles resultados <span class="math notranslate nohighlight">\((D_1, D_2)\)</span>, todos igual de probables. Para <span class="math notranslate nohighlight">\(m = \{1,2,3,4,5,6\}\)</span>:</p>
<div class="math notranslate nohighlight">
\[
P(M=m) = \left(\frac{m}{6}\right)^2 - \left(\frac{m-1}{6}\right)^2 = \frac{2m-1}{36}
\]</div>
<p>Esto genera la siguiente tabla:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>m</p></th>
<th class="head"><p>P(M = m)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1/36</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>3/36</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>5/36</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>7/36</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>9/36</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>11/36</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="parte-b-validacion-por-simulacion-monte-carlo">
<h3>Parte B — Validación por simulación Monte Carlo<a class="headerlink" href="#parte-b-validacion-por-simulacion-monte-carlo" title="Permalink to this heading">#</a></h3>
<p>A continuación simularemos muchos pares de lanzamientos, calcularemos el máximo en cada uno, y compararemos con la distribución teórica.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importar librerías</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Se fija una semilla para garantizar reproducibilidad de los resultados.</span>
<span class="c1"># Esto no elimina la aleatoriedad del fenómeno, sino que permite replicar</span>
<span class="c1"># exactamente el mismo experimento computacional.</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">xml.etree.ElementPath</span><span class="w"> </span><span class="kn">import</span> <span class="n">find</span>


<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>    <span class="c1"># 0) generador con semilla (reproducible)</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">200000</span>                        <span class="c1"># 1) número de simulaciones</span>

<span class="c1"># 2) creación de las muestras de los dos dados y cálculo del máximo</span>
<span class="n">d1</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>   <span class="c1"># enteros en [1,6]</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
<span class="n">M</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">)</span>

<span class="c1"># 3) pmf empírica</span>
<span class="c1">#    3.1 cuenta ocurrencias forzando 7 posiciones (índices 0..6)</span>
<span class="c1">#    3.2 elimina el índice 0 (no hay resultado 0), quedan valores 1..6</span>
<span class="n">counts</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">bincount</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">minlength</span><span class="o">=</span><span class="mi">7</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>

<span class="c1">#    3.3 divide por N para obtener frecuencias (probabilidades)</span>
<span class="n">pmf_emp</span> <span class="o">=</span> <span class="n">counts</span> <span class="o">/</span> <span class="n">N</span>

<span class="c1"># 4) pmf teórica (derivada en la parte A): P(M=m) = (2m - 1)/36 para m=1..6</span>
<span class="n">m</span>       <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">pmf_the</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">36</span>

<span class="c1"># 5) impresión de resultados</span>
<span class="c1">#    5.1 pmf empírica</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pmf empírica:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">pmf_emp</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="c1">#    5.2 pmf teórica</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;pmf teórica :&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">pmf_the</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="c1">#    5.3 error absoluto componente a componente</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error abs   :&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">pmf_emp</span> <span class="o">-</span> <span class="n">pmf_the</span><span class="p">),</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pmf empírica: [0.0282 0.0817 0.1403 0.1946 0.2503 0.3049]
pmf teórica : [0.0278 0.0833 0.1389 0.1944 0.25   0.3056]
error abs   : [0.00042 0.00165 0.00137 0.00017 0.00033 0.00064]
</pre></div>
</div>
</div>
</div>
<p>Las pequeñas discrepancias observadas entre la distribución teórica y la empírica se deben al error muestral propio de trabajar con un número finito de simulaciones. A medida que el tamaño de la muestra aumenta, estas diferencias tienden a desaparecer, lo cual es consistente con la Ley de los Grandes Números, que garantiza la convergencia de las estimaciones empíricas hacia sus valores teóricos.</p>
<section id="profundizacion-resuelva-estas-preguntas-como-cambia-el-codigo">
<h4>Profundización: resuelva estas preguntas ¿cómo cambia el código?<a class="headerlink" href="#profundizacion-resuelva-estas-preguntas-como-cambia-el-codigo" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>¿Por qué usar una semilla en simulación?</strong></p>
<ul class="simple">
<li><p>Experimento: ejecute dos veces la simulación con la <strong>misma semilla</strong> y luego con <strong>semillas distintas</strong>.</p></li>
<li><p>¿Qué observa en las pmf empíricas?</p></li>
<li><p><strong>Qué cambiar en el código:</strong> modifique <code class="docutils literal notranslate"><span class="pre">seed</span></code> en la llamada a <code class="docutils literal notranslate"><span class="pre">default_rng(...)</span></code> (por ejemplo, <code class="docutils literal notranslate"><span class="pre">0</span></code> y <code class="docutils literal notranslate"><span class="pre">1</span></code>) y compare las salidas.</p></li>
</ul>
</li>
<li><p><strong>¿Qué pasaría si N fuera muy pequeño, como 100?</strong></p>
<ul class="simple">
<li><p>Experimento: reduzca el <strong>tamaño de muestra</strong> a <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">=</span> <span class="pre">100</span></code>.</p></li>
<li><p>¿Cómo cambian las frecuencias relativas frente a la pmf teórica?</p></li>
<li><p><strong>Qué cambiar en el código:</strong> establezca <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">=</span> <span class="pre">100</span></code> en la celda de simulación y observe el vector <code class="docutils literal notranslate"><span class="pre">pmf_emp</span></code> y su error absoluto.</p></li>
</ul>
</li>
<li><p><strong>¿Por qué la aproximación mejora al aumentar N?</strong></p>
<ul class="simple">
<li><p>Experimento: evalúe el <strong>error</strong> entre la pmf empírica y la teórica para varios valores de <code class="docutils literal notranslate"><span class="pre">N</span></code> (por ejemplo: 50, 100, 200, 500, 1 000, 5 000, 10 000, 50 000, 100 000).<br />
<strong>Hint:</strong> Use un ciclo for y guarde los resultados en un dataframe</p></li>
<li><p>Grafique <strong>error vs N</strong> en escala logarítmica y describa la tendencia.</p></li>
<li><p><strong>Qué cambiar en el código:</strong> cree un arreglo con distintos <code class="docutils literal notranslate"><span class="pre">N</span></code>, repita la simulación para cada uno usando la <strong>misma semilla</strong> y calcule la suma de diferencias absolutas <code class="docutils literal notranslate"><span class="pre">np.abs(pmf_emp</span> <span class="pre">-</span> <span class="pre">pmf_the).sum()</span></code>.</p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="parte-c-media-y-varianza">
<h3>Parte C — Media y varianza<a class="headerlink" href="#parte-c-media-y-varianza" title="Permalink to this heading">#</a></h3>
<div class="math notranslate nohighlight">
\[
E[M] = \sum_{m=1}^6 m \cdot \frac{2m-1}{36} 
\]</div>
<div class="math notranslate nohighlight">
\[
Var(M) = \sum_{m=1}^6 m^2 \cdot \frac{2m-1}{36} - (E[M])^2 
\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cálculo de E[M] y Var(M) empíricos</span>
<span class="c1"># 1) E[M] empírico: suma m * pmf_emp(m)</span>
<span class="n">E_emp</span> <span class="o">=</span> <span class="p">(</span><span class="n">m</span> <span class="o">*</span> <span class="n">pmf_emp</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># 2) E[M^2] empírico y luego Var(M) = E[M^2] - (E[M])^2</span>
<span class="n">Var_emp</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span><span class="n">m</span><span class="o">**</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pmf_emp</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">-</span> <span class="n">E_emp</span><span class="o">**</span><span class="mi">2</span> <span class="p">)</span>

<span class="c1"># 3) impresión</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;E[M] (emp) =&quot;</span><span class="p">,</span> <span class="n">E_emp</span><span class="p">,</span> <span class="s2">&quot;  Var(M) (emp) =&quot;</span><span class="p">,</span> <span class="n">Var_emp</span><span class="p">)</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>E[M] (emp) = 4.47195   Var(M) (emp) = 1.9680331975000023
</pre></div>
</div>
</div>
</div>
<section id="profundizacion-pregunta-corta">
<h4>Profundización: pregunta corta<a class="headerlink" href="#profundizacion-pregunta-corta" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>¿Se obtiene el <strong>mismo</strong> (E[M]) calculando con <code class="docutils literal notranslate"><span class="pre">pmf_emp</span></code> que usando el <strong>promedio muestral</strong>? ¿Por qué?</p></li>
</ol>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content\complementarias"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="complementaria_intro_python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Complementaria 1: Introducción a Python</p>
      </div>
    </a>
    <a class="right-next"
       href="complementaria_tlc.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Complementaria 3: Teorema del Límite Central y validación empírica</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-guiado-maximo-de-dos-dados-y-simulacion-monte-carlo">Ejercicio guiado: Máximo de dos dados y simulación Monte Carlo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contexto">Contexto</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#objetivos">Objetivos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parte-a-deriva-la-pmf-teoricamente">Parte A — Deriva la pmf teóricamente</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parte-b-validacion-por-simulacion-monte-carlo">Parte B — Validación por simulación Monte Carlo</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#profundizacion-resuelva-estas-preguntas-como-cambia-el-codigo">Profundización: resuelva estas preguntas ¿cómo cambia el código?</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parte-c-media-y-varianza">Parte C — Media y varianza</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#profundizacion-pregunta-corta">Profundización: pregunta corta</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Equipo Modelado Bajo Incertidumbre | Uniandes
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>